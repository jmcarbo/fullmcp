=== RUN   TestJSONRPCCompliance
    compliance_test.go:46: Missing id field for request
    compliance_test.go:76: JSON-RPC compliance verified for 3 messages
--- FAIL: TestJSONRPCCompliance (0.00s)
=== RUN   TestMCPProtocolVersion
    compliance_test.go:139: Protocol version: 2025-06-18
--- PASS: TestMCPProtocolVersion (0.00s)
=== RUN   TestCapabilityNegotiation
    compliance_test.go:194: Server capabilities: map[prompts:map[] resources:map[] tools:map[]]
--- PASS: TestCapabilityNegotiation (0.00s)
=== RUN   TestContentTypeHeaders
--- PASS: TestContentTypeHeaders (0.00s)
=== RUN   TestStreamableHTTPSessionID
    compliance_test.go:300: Session ID 'test-session-abc123' used 4 times
--- PASS: TestStreamableHTTPSessionID (0.00s)
=== RUN   TestSSEContentType
    compliance_test.go:346: Expected Accept header to contain 'text/event-stream', got ''
--- FAIL: TestSSEContentType (0.10s)
=== RUN   TestErrorCodeCompliance
    compliance_test.go:404: Error code compliance verified: RPC error -32603: tool not found: nonexistent
--- PASS: TestErrorCodeCompliance (0.00s)
=== RUN   TestRequestIDUniqueness
    compliance_test.go:459: Request ID uniqueness verified: 4 unique IDs
--- PASS: TestRequestIDUniqueness (0.00s)
=== RUN   TestNotificationCompliance
    compliance_test.go:508: Notification compliance verified
--- PASS: TestNotificationCompliance (0.10s)
=== RUN   TestStdioTransport
    protocol_test.go:186: Stdio transport test requires complex process management - implement separately
--- SKIP: TestStdioTransport (0.00s)
=== RUN   TestHTTPTransport
--- PASS: TestHTTPTransport (0.00s)
=== RUN   TestStreamableHTTPTransport
--- PASS: TestStreamableHTTPTransport (0.00s)
=== RUN   TestStreamableHTTPSessionManagement
    protocol_test.go:355: Session management test passed
--- PASS: TestStreamableHTTPSessionManagement (0.00s)
=== RUN   TestProtocolErrors
    protocol_test.go:420: Expected error with invalid tool arguments
--- FAIL: TestProtocolErrors (0.00s)
=== RUN   TestConcurrentRequests
panic: test timed out after 30s
	running tests:
		TestConcurrentRequests (30s)

goroutine 340 [running]:
testing.(*M).startAlarm.func1()
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/testing/testing.go:2682 +0x2b0
created by time.goFunc
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/time/sleep.go:215 +0x38

goroutine 1 [chan receive]:
testing.(*T).Run(0x1400008ac40, {0x1005924e6?, 0x1400010bb38?}, 0x1006db558)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/testing/testing.go:2005 +0x378
testing.runTests.func1(0x1400008ac40)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/testing/testing.go:2477 +0x38
testing.tRunner(0x1400008ac40, 0x1400010bc68)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/testing/testing.go:1934 +0xc8
testing.runTests(0x140000ae1b0, {0x10094ade0, 0x14, 0x14}, {0x1400009a620?, 0x7?, 0x100951c20?})
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/testing/testing.go:2475 +0x3b8
testing.(*M).Run(0x140000acc80)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/testing/testing.go:2337 +0x530
main.main()
	_testmain.go:87 +0x80

goroutine 242 [chan receive]:
github.com/jmcarbo/fullmcp/test/integration.TestConcurrentRequests(0x140003bcfc0)
	/Users/joanmarc/dailywork/jmca/fullmcp/fullmcp/test/integration/protocol_test.go:470 +0x2e0
testing.tRunner(0x140003bcfc0, 0x1006db558)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/testing/testing.go:1934 +0xc8
created by testing.(*T).Run in goroutine 1
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/testing/testing.go:1997 +0x364

goroutine 243 [IO wait]:
internal/poll.runtime_pollWait(0x12757fe00, 0x72)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/runtime/netpoll.go:351 +0xa0
internal/poll.(*pollDesc).wait(0x140003a6780?, 0x100344b7c?, 0x0)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/internal/poll/fd_poll_runtime.go:84 +0x28
internal/poll.(*pollDesc).waitRead(...)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/internal/poll/fd_poll_runtime.go:89
internal/poll.(*FD).Accept(0x140003a6780)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/internal/poll/fd_unix.go:613 +0x21c
net.(*netFD).accept(0x140003a6780)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/net/fd_unix.go:161 +0x28
net.(*TCPListener).accept(0x140003b0740)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/net/tcpsock_posix.go:159 +0x24
net.(*TCPListener).Accept(0x140003b0740)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/net/tcpsock.go:380 +0x2c
net/http.(*Server).Serve(0x140003e2100, {0x1006e2810, 0x140003b0740})
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/net/http/server.go:3463 +0x24c
net/http/httptest.(*Server).goServe.func1()
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/net/http/httptest/server.go:311 +0x54
created by net/http/httptest.(*Server).goServe in goroutine 242
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/net/http/httptest/server.go:309 +0x6c

goroutine 9 [sync.Cond.Wait]:
sync.runtime_notifyListWait(0x140000103d0, 0x4)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/runtime/sema.go:606 +0x140
sync.(*Cond).Wait(0x140000103c0)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/sync/cond.go:71 +0xa4
github.com/jmcarbo/fullmcp/transport/streamhttp.(*streamConn).Read(0x14000204300, {0x14000216602, 0x5fe, 0x14000216600?})
	/Users/joanmarc/dailywork/jmca/fullmcp/fullmcp/transport/streamhttp/streamhttp.go:315 +0xae4
encoding/json.(*Decoder).refill(0x14000000500)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/encoding/json/stream.go:167 +0x144
encoding/json.(*Decoder).readValue(0x14000000500)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/encoding/json/stream.go:142 +0x70
encoding/json.(*Decoder).Decode(0x14000000500, {0x100644700, 0x1400018ee70})
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/encoding/json/stream.go:65 +0x5c
github.com/jmcarbo/fullmcp/internal/jsonrpc.(*MessageReader).Read(0x14000068040)
	/Users/joanmarc/dailywork/jmca/fullmcp/fullmcp/internal/jsonrpc/jsonrpc.go:26 +0x48
github.com/jmcarbo/fullmcp/client.(*Client).handleMessages(0x1400003a300)
	/Users/joanmarc/dailywork/jmca/fullmcp/fullmcp/client/client.go:282 +0x30
created by github.com/jmcarbo/fullmcp/client.(*Client).Connect in goroutine 6
	/Users/joanmarc/dailywork/jmca/fullmcp/fullmcp/client/client.go:55 +0x68

goroutine 87 [sync.Cond.Wait]:
sync.runtime_notifyListWait(0x140000106d0, 0x2)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/runtime/sema.go:606 +0x140
sync.(*Cond).Wait(0x140000106c0)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/sync/cond.go:71 +0xa4
github.com/jmcarbo/fullmcp/transport/streamhttp.(*streamConn).Read(0x14000204600, {0x14000162602, 0x5fe, 0x14000162600?})
	/Users/joanmarc/dailywork/jmca/fullmcp/fullmcp/transport/streamhttp/streamhttp.go:315 +0xae4
encoding/json.(*Decoder).refill(0x14000000b40)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/encoding/json/stream.go:167 +0x144
encoding/json.(*Decoder).readValue(0x14000000b40)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/encoding/json/stream.go:142 +0x70
encoding/json.(*Decoder).Decode(0x14000000b40, {0x100644700, 0x14000170770})
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/encoding/json/stream.go:65 +0x5c
github.com/jmcarbo/fullmcp/internal/jsonrpc.(*MessageReader).Read(0x14000068080)
	/Users/joanmarc/dailywork/jmca/fullmcp/fullmcp/internal/jsonrpc/jsonrpc.go:26 +0x48
github.com/jmcarbo/fullmcp/client.(*Client).handleMessages(0x1400003a720)
	/Users/joanmarc/dailywork/jmca/fullmcp/fullmcp/client/client.go:282 +0x30
created by github.com/jmcarbo/fullmcp/client.(*Client).Connect in goroutine 84
	/Users/joanmarc/dailywork/jmca/fullmcp/fullmcp/client/client.go:55 +0x68

goroutine 238 [select]:
net/http.(*persistConn).writeLoop(0x14000558b40)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/net/http/transport.go:2597 +0x94
created by net/http.(*Transport).dialConn in goroutine 265
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/net/http/transport.go:1945 +0x1164

goroutine 124 [sync.Cond.Wait]:
sync.runtime_notifyListWait(0x14000192a90, 0x7)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/runtime/sema.go:606 +0x140
sync.(*Cond).Wait(0x14000192a80)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/sync/cond.go:71 +0xa4
github.com/jmcarbo/fullmcp/transport/streamhttp.(*streamConn).Read(0x140001d2880, {0x14000532002, 0x5fe, 0x14000532000?})
	/Users/joanmarc/dailywork/jmca/fullmcp/fullmcp/transport/streamhttp/streamhttp.go:315 +0xae4
encoding/json.(*Decoder).refill(0x140001dd680)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/encoding/json/stream.go:167 +0x144
encoding/json.(*Decoder).readValue(0x140001dd680)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/encoding/json/stream.go:142 +0x70
encoding/json.(*Decoder).Decode(0x140001dd680, {0x100644700, 0x1400038cbd0})
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/encoding/json/stream.go:65 +0x5c
github.com/jmcarbo/fullmcp/internal/jsonrpc.(*MessageReader).Read(0x140001a2148)
	/Users/joanmarc/dailywork/jmca/fullmcp/fullmcp/internal/jsonrpc/jsonrpc.go:26 +0x48
github.com/jmcarbo/fullmcp/client.(*Client).handleMessages(0x1400019c900)
	/Users/joanmarc/dailywork/jmca/fullmcp/fullmcp/client/client.go:282 +0x30
created by github.com/jmcarbo/fullmcp/client.(*Client).Connect in goroutine 121
	/Users/joanmarc/dailywork/jmca/fullmcp/fullmcp/client/client.go:55 +0x68

goroutine 220 [select]:
net/http.(*persistConn).writeLoop(0x140002f5440)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/net/http/transport.go:2597 +0x94
created by net/http.(*Transport).dialConn in goroutine 186
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/net/http/transport.go:1945 +0x1164

goroutine 106 [sync.Cond.Wait]:
sync.runtime_notifyListWait(0x140003b04d0, 0x4)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/runtime/sema.go:606 +0x140
sync.(*Cond).Wait(0x140003b04c0)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/sync/cond.go:71 +0xa4
github.com/jmcarbo/fullmcp/transport/streamhttp.(*streamConn).Read(0x1400038a440, {0x140002aac02, 0x5fe, 0x140002aac00?})
	/Users/joanmarc/dailywork/jmca/fullmcp/fullmcp/transport/streamhttp/streamhttp.go:315 +0xae4
encoding/json.(*Decoder).refill(0x1400038ef00)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/encoding/json/stream.go:167 +0x144
encoding/json.(*Decoder).readValue(0x1400038ef00)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/encoding/json/stream.go:142 +0x70
encoding/json.(*Decoder).Decode(0x1400038ef00, {0x100644700, 0x14000326230})
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/encoding/json/stream.go:65 +0x5c
github.com/jmcarbo/fullmcp/internal/jsonrpc.(*MessageReader).Read(0x14000392080)
	/Users/joanmarc/dailywork/jmca/fullmcp/fullmcp/internal/jsonrpc/jsonrpc.go:26 +0x48
github.com/jmcarbo/fullmcp/client.(*Client).handleMessages(0x1400039c5a0)
	/Users/joanmarc/dailywork/jmca/fullmcp/fullmcp/client/client.go:282 +0x30
created by github.com/jmcarbo/fullmcp/client.(*Client).Connect in goroutine 103
	/Users/joanmarc/dailywork/jmca/fullmcp/fullmcp/client/client.go:55 +0x68

goroutine 160 [IO wait]:
internal/poll.runtime_pollWait(0x12774ca00, 0x72)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/runtime/netpoll.go:351 +0xa0
internal/poll.(*pollDesc).wait(0x140003a6a00?, 0x140004a5000?, 0x0)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/internal/poll/fd_poll_runtime.go:84 +0x28
internal/poll.(*pollDesc).waitRead(...)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/internal/poll/fd_poll_runtime.go:89
internal/poll.(*FD).Read(0x140003a6a00, {0x140004a5000, 0x1000, 0x1000})
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/internal/poll/fd_unix.go:165 +0x1e0
net.(*netFD).Read(0x140003a6a00, {0x140004a5000?, 0x1400056faa8?, 0x1004f896c?})
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/net/fd_posix.go:68 +0x28
net.(*conn).Read(0x14000068200, {0x140004a5000?, 0x72?, 0x14000503170?})
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/net/net.go:196 +0x34
net/http.(*connReader).Read(0x1400059a140, {0x140004a5000, 0x1000, 0x1000})
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/net/http/server.go:812 +0x230
bufio.(*Reader).fill(0x140005b22a0)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/bufio/bufio.go:113 +0xe0
bufio.(*Reader).Peek(0x140005b22a0, 0x4)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/bufio/bufio.go:152 +0x58
net/http.(*conn).serve(0x14000258d80, {0x1006e2b18, 0x14000334240})
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/net/http/server.go:2145 +0x654
created by net/http.(*Server).Serve in goroutine 243
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/net/http/server.go:3493 +0x384

goroutine 259 [select]:
github.com/jmcarbo/fullmcp/client.(*Client).call(0x1400039ca20, {0x1006e2aa8, 0x100979e20}, {0x10058cbf7, 0xa}, {0x1006749e0, 0x140003eaf90}, {0x10064b3e0, 0x140003947c8})
	/Users/joanmarc/dailywork/jmca/fullmcp/fullmcp/client/client.go:247 +0x2e0
github.com/jmcarbo/fullmcp/client.(*Client).CallTool(0x1400039ca20, {0x1006e2aa8, 0x100979e20}, {0x10058abab, 0x3}, {0x100662ee0, 0x140003947b0})
	/Users/joanmarc/dailywork/jmca/fullmcp/fullmcp/client/client.go:125 +0x12c
github.com/jmcarbo/fullmcp/test/integration.TestConcurrentRequests.func2(0x140003bfc20?)
	/Users/joanmarc/dailywork/jmca/fullmcp/fullmcp/test/integration/protocol_test.go:460 +0x8c
created by github.com/jmcarbo/fullmcp/test/integration.TestConcurrentRequests in goroutine 242
	/Users/joanmarc/dailywork/jmca/fullmcp/fullmcp/test/integration/protocol_test.go:459 +0x208

goroutine 208 [select]:
github.com/jmcarbo/fullmcp/client.(*Client).call(0x1400039ca20, {0x1006e2aa8, 0x100979e20}, {0x10058cbf7, 0xa}, {0x1006749e0, 0x14000503a10}, {0x10064b3e0, 0x14000524588})
	/Users/joanmarc/dailywork/jmca/fullmcp/fullmcp/client/client.go:247 +0x2e0
github.com/jmcarbo/fullmcp/client.(*Client).CallTool(0x1400039ca20, {0x1006e2aa8, 0x100979e20}, {0x10058abab, 0x3}, {0x100662ee0, 0x14000524570})
	/Users/joanmarc/dailywork/jmca/fullmcp/fullmcp/client/client.go:125 +0x12c
github.com/jmcarbo/fullmcp/test/integration.TestConcurrentRequests.func2(0x0?)
	/Users/joanmarc/dailywork/jmca/fullmcp/fullmcp/test/integration/protocol_test.go:460 +0x8c
created by github.com/jmcarbo/fullmcp/test/integration.TestConcurrentRequests in goroutine 242
	/Users/joanmarc/dailywork/jmca/fullmcp/fullmcp/test/integration/protocol_test.go:459 +0x208

goroutine 207 [select]:
github.com/jmcarbo/fullmcp/client.(*Client).call(0x1400039ca20, {0x1006e2aa8, 0x100979e20}, {0x10058cbf7, 0xa}, {0x1006749e0, 0x14000592000}, {0x10064b3e0, 0x14000590018})
	/Users/joanmarc/dailywork/jmca/fullmcp/fullmcp/client/client.go:247 +0x2e0
github.com/jmcarbo/fullmcp/client.(*Client).CallTool(0x1400039ca20, {0x1006e2aa8, 0x100979e20}, {0x10058abab, 0x3}, {0x100662ee0, 0x14000590000})
	/Users/joanmarc/dailywork/jmca/fullmcp/fullmcp/client/client.go:125 +0x12c
github.com/jmcarbo/fullmcp/test/integration.TestConcurrentRequests.func2(0x0?)
	/Users/joanmarc/dailywork/jmca/fullmcp/fullmcp/test/integration/protocol_test.go:460 +0x8c
created by github.com/jmcarbo/fullmcp/test/integration.TestConcurrentRequests in goroutine 242
	/Users/joanmarc/dailywork/jmca/fullmcp/fullmcp/test/integration/protocol_test.go:459 +0x208

goroutine 219 [IO wait]:
internal/poll.runtime_pollWait(0x12757f600, 0x72)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/runtime/netpoll.go:351 +0xa0
internal/poll.(*pollDesc).wait(0x140002d9080?, 0x14000420000?, 0x0)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/internal/poll/fd_poll_runtime.go:84 +0x28
internal/poll.(*pollDesc).waitRead(...)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/internal/poll/fd_poll_runtime.go:89
internal/poll.(*FD).Read(0x140002d9080, {0x14000420000, 0x1000, 0x1000})
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/internal/poll/fd_unix.go:165 +0x1e0
net.(*netFD).Read(0x140002d9080, {0x14000420000?, 0x1?, 0x8?})
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/net/fd_posix.go:68 +0x28
net.(*conn).Read(0x140000a2410, {0x14000420000?, 0x1400012d710?, 0x7091abafc9bcd611?})
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/net/net.go:196 +0x34
net/http.(*persistConn).Read(0x140002f5440, {0x14000420000?, 0x1006df6b8?, 0x10093f300?})
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/net/http/transport.go:2122 +0x48
bufio.(*Reader).fill(0x1400009d4a0)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/bufio/bufio.go:113 +0xe0
bufio.(*Reader).Peek(0x1400009d4a0, 0x1)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/bufio/bufio.go:152 +0x58
net/http.(*persistConn).readLoop(0x140002f5440)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/net/http/transport.go:2275 +0x110
created by net/http.(*Transport).dialConn in goroutine 186
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/net/http/transport.go:1944 +0x111c

goroutine 244 [sync.Cond.Wait]:
sync.runtime_notifyListWait(0x1400028ef90, 0x9)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/runtime/sema.go:606 +0x140
sync.(*Cond).Wait(0x1400028ef80)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/sync/cond.go:71 +0xa4
github.com/jmcarbo/fullmcp/transport/http.(*httpConn).Read(0x140003a6800, {0x14000532601, 0x5ff, 0x14000532600?})
	/Users/joanmarc/dailywork/jmca/fullmcp/fullmcp/transport/http/http.go:100 +0xc8
encoding/json.(*Decoder).refill(0x1400038f7c0)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/encoding/json/stream.go:167 +0x144
encoding/json.(*Decoder).readValue(0x1400038f7c0)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/encoding/json/stream.go:142 +0x70
encoding/json.(*Decoder).Decode(0x1400038f7c0, {0x100644700, 0x14000252150})
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/encoding/json/stream.go:65 +0x5c
github.com/jmcarbo/fullmcp/internal/jsonrpc.(*MessageReader).Read(0x140003920e8)
	/Users/joanmarc/dailywork/jmca/fullmcp/fullmcp/internal/jsonrpc/jsonrpc.go:26 +0x48
github.com/jmcarbo/fullmcp/client.(*Client).handleMessages(0x1400039ca20)
	/Users/joanmarc/dailywork/jmca/fullmcp/fullmcp/client/client.go:282 +0x30
created by github.com/jmcarbo/fullmcp/client.(*Client).Connect in goroutine 242
	/Users/joanmarc/dailywork/jmca/fullmcp/fullmcp/client/client.go:55 +0x68

goroutine 190 [IO wait]:
internal/poll.runtime_pollWait(0x12774cc00, 0x72)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/runtime/netpoll.go:351 +0xa0
internal/poll.(*pollDesc).wait(0x140002d9180?, 0x14000535000?, 0x0)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/internal/poll/fd_poll_runtime.go:84 +0x28
internal/poll.(*pollDesc).waitRead(...)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/internal/poll/fd_poll_runtime.go:89
internal/poll.(*FD).Read(0x140002d9180, {0x14000535000, 0x1000, 0x1000})
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/internal/poll/fd_unix.go:165 +0x1e0
net.(*netFD).Read(0x140002d9180, {0x14000535000?, 0x14000631aa8?, 0x1004f896c?})
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/net/fd_posix.go:68 +0x28
net.(*conn).Read(0x14000298280, {0x14000535000?, 0x72?, 0x14000503170?})
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/net/net.go:196 +0x34
net/http.(*connReader).Read(0x1400028f100, {0x14000535000, 0x1000, 0x1000})
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/net/http/server.go:812 +0x230
bufio.(*Reader).fill(0x1400052a2a0)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/bufio/bufio.go:113 +0xe0
bufio.(*Reader).Peek(0x1400052a2a0, 0x4)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/bufio/bufio.go:152 +0x58
net/http.(*conn).serve(0x140004815f0, {0x1006e2b18, 0x14000334240})
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/net/http/server.go:2145 +0x654
created by net/http.(*Server).Serve in goroutine 243
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/net/http/server.go:3493 +0x384

goroutine 237 [IO wait]:
internal/poll.runtime_pollWait(0x12757fa00, 0x72)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/runtime/netpoll.go:351 +0xa0
internal/poll.(*pollDesc).wait(0x14000526400?, 0x1400034c000?, 0x0)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/internal/poll/fd_poll_runtime.go:84 +0x28
internal/poll.(*pollDesc).waitRead(...)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/internal/poll/fd_poll_runtime.go:89
internal/poll.(*FD).Read(0x14000526400, {0x1400034c000, 0x1000, 0x1000})
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/internal/poll/fd_unix.go:165 +0x1e0
net.(*netFD).Read(0x14000526400, {0x1400034c000?, 0x1?, 0x28?})
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/net/fd_posix.go:68 +0x28
net.(*conn).Read(0x140001a2230, {0x1400034c000?, 0x1400012d710?, 0xace835fbb59f6d2b?})
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/net/net.go:196 +0x34
net/http.(*persistConn).Read(0x14000558b40, {0x1400034c000?, 0x1006df6b8?, 0x10093f300?})
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/net/http/transport.go:2122 +0x48
bufio.(*Reader).fill(0x1400019ccc0)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/bufio/bufio.go:113 +0xe0
bufio.(*Reader).Peek(0x1400019ccc0, 0x1)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/bufio/bufio.go:152 +0x58
net/http.(*persistConn).readLoop(0x14000558b40)
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/net/http/transport.go:2275 +0x110
created by net/http.(*Transport).dialConn in goroutine 265
	/opt/homebrew/Cellar/go/1.25.1/libexec/src/net/http/transport.go:1944 +0x111c
exit status 2
FAIL	github.com/jmcarbo/fullmcp/test/integration	30.197s
